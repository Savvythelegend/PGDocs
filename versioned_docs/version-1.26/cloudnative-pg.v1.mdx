# API Reference

Package v1 contains API Schema definitions for the postgresql v1 API group.

## Resource Types

- [Backup](#backup)
- [Cluster](#cluster)
- [ClusterImageCatalog](#clusterimagecatalog)
- [Database](#database)
- [ImageCatalog](#imagecatalog)
- [Pooler](#pooler)
- [Publication](#publication)
- [ScheduledBackup](#scheduledbackup)
- [Subscription](#subscription)

## Backup

A Backup resource is a request for a PostgreSQL backup by the user.

| Field | Description |
| ----- | ----------- |
| `apiVersion` [Required]string | `postgresql.cnpg.io/v1` |
| `kind` [Required]string | `Backup` |
| `metadata` [Required][meta/v1.ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta) | Refer to the Kubernetes API documentation for the fields of the `metadata` field. |
| `spec` [Required][BackupSpec](#backupspec) | Specification of the desired behavior of the backup. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |
| `status`[BackupStatus](#backupstatus) | Most recently observed status of the backup. This data may not be up to date. Populated by the system. Read-only. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |

## Cluster

Cluster is the Schema for the PostgreSQL API.

| Field | Description |
| ----- | ----------- |
| `apiVersion` [Required]string | `postgresql.cnpg.io/v1` |
| `kind` [Required]string | `Cluster` |
| `metadata` [Required][meta/v1.ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta) | Refer to the Kubernetes API documentation for the fields of the `metadata` field. |
| `spec` [Required][ClusterSpec](#clusterspec) | Specification of the desired behavior of the cluster. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |
| `status`[ClusterStatus](#clusterstatus) | Most recently observed status of the cluster. This data may not be up to date. Populated by the system. Read-only. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |

## ClusterImageCatalog

ClusterImageCatalog is the Schema for the clusterimagecatalogs API.

| Field | Description |
| ----- | ----------- |
| `apiVersion` [Required]string | `postgresql.cnpg.io/v1` |
| `kind` [Required]string | `ClusterImageCatalog` |
| `metadata` [Required][meta/v1.ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta) | Refer to the Kubernetes API documentation for the fields of the `metadata` field. |
| `spec` [Required][ImageCatalogSpec](#imagecatalogspec) | Specification of the desired behavior of the ClusterImageCatalog. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |

## Database

Database is the Schema for the databases API.

| Field | Description |
| ----- | ----------- |
| `apiVersion` [Required]string | `postgresql.cnpg.io/v1` |
| `kind` [Required]string | `Database` |
| `metadata` [Required][meta/v1.ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta) | Refer to the Kubernetes API documentation for the fields of the `metadata` field. |
| `spec` [Required][DatabaseSpec](#databasespec) | Specification of the desired Database. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |
| `status`[DatabaseStatus](#databasestatus) | Most recently observed status of the Database. This data may not be up to date. Populated by the system. Read-only. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |

## ImageCatalog

ImageCatalog is the Schema for the imagecatalogs API.

| Field | Description |
| ----- | ----------- |
| `apiVersion` [Required]string | `postgresql.cnpg.io/v1` |
| `kind` [Required]string | `ImageCatalog` |
| `metadata` [Required][meta/v1.ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta) | Refer to the Kubernetes API documentation for the fields of the `metadata` field. |
| `spec` [Required][ImageCatalogSpec](#imagecatalogspec) | Specification of the desired behavior of the ImageCatalog. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |

## Pooler

Pooler is the Schema for the poolers API.

| Field | Description |
| ----- | ----------- |
| `apiVersion` [Required]string | `postgresql.cnpg.io/v1` |
| `kind` [Required]string | `Pooler` |
| `metadata` [Required][meta/v1.ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta) | Refer to the Kubernetes API documentation for the fields of the `metadata` field. |
| `spec` [Required][PoolerSpec](#poolerspec) | Specification of the desired behavior of the Pooler. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |
| `status`[PoolerStatus](#poolerstatus) | Most recently observed status of the Pooler. This data may not be up to date. Populated by the system. Read-only. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |

## Publication

Publication is the Schema for the publications API.

| Field | Description |
| ----- | ----------- |
| `apiVersion` [Required]string | `postgresql.cnpg.io/v1` |
| `kind` [Required]string | `Publication` |
| `metadata` [Required][meta/v1.ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta) | Refer to the Kubernetes API documentation for the fields of the `metadata` field. |
| `spec` [Required][PublicationSpec](#postgresql-cnpg-io-v1-PublicationSpec) | No description provided. |
| `status` [Required][PublicationStatus](#postgresql-cnpg-io-v1-PublicationStatus) | No description provided. |

## ScheduledBackup

ScheduledBackup is the Schema for the scheduledbackups API.

| Field | Description |
| ----- | ----------- |
| `apiVersion` [Required]string | `postgresql.cnpg.io/v1` |
| `kind` [Required]string | `ScheduledBackup` |
| `metadata` [Required][meta/v1.ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta) | Refer to the Kubernetes API documentation for the fields of the `metadata` field. |
| `spec` [Required][ScheduledBackupSpec](#scheduledbackupspec) | Specification of the desired behavior of the ScheduledBackup. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |
| `status`[ScheduledBackupStatus](#scheduledbackupstatus) | Most recently observed status of the ScheduledBackup. This data may not be up to date. Populated by the system. Read-only. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.mdx#spec-and-status |

## Subscription

Subscription is the Schema for the subscriptions API.

| Field | Description |
| ----- | ----------- |
| `apiVersion` [Required]string | `postgresql.cnpg.io/v1` |
| `kind` [Required]string | `Subscription` |
| `metadata` [Required][meta/v1.ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#objectmeta-v1-meta) | Refer to the Kubernetes API documentation for the fields of the `metadata` field. |
| `spec` [Required][SubscriptionSpec](#subscriptionspec) | No description provided. |
| `status` [Required][SubscriptionStatus](#subscriptionstatus) | No description provided. |

AffinityConfiguration Appears in:

ClusterSpec

AffinityConfiguration contains the info we need to create the affinity rules for Pods.

| Field | Description |
| ----- | ----------- |
| `enablePodAntiAffinity` [Required]bool | Activates anti-affinity for the pods. The operator will define pods anti-affinity unless this field is explicitly set to false. |
| `topologyKey`string | TopologyKey to use for anti-affinity configuration. See k8s documentation for more info on that. |
| `nodeSelector`map[string]string | NodeSelector is map of key-value pairs used to define the nodes on which the pods can run. More info: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/ |
| `nodeAffinity`[core/v1.NodeAffinity](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#nodeaffinity-v1-core) | NodeAffinity describes node affinity scheduling rules for the pod. More info: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#node-affinity |
| `tolerations`[[]core/v1.Toleration](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#toleration-v1-core) | Tolerations is a list of Tolerations that should be set for all the pods, in order to allow them to run on tainted nodes. More info: https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/ |
| `podAntiAffinityType`string | PodAntiAffinityType allows the user to decide whether pod anti-affinity between cluster instance has to be considered a strong requirement during scheduling or not. Allowed values are: "preferred" (default if empty) or "required". Setting it to "required", could lead to instances remaining pending until new kubernetes nodes are added if all the existing nodes don't match the required pod anti-affinity rule. More info: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity |
| `additionalPodAntiAffinity`[core/v1.PodAntiAffinity](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#podantiaffinity-v1-core) | AdditionalPodAntiAffinity allows to specify pod anti-affinity terms to be added to the ones generated by the operator if EnablePodAntiAffinity is set to true (default) or to be used exclusively if set to false. |
| `additionalPodAffinity`[core/v1.PodAffinity](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.28/#podaffinity-v1-core) | AdditionalPodAffinity allows to specify pod affinity terms to be passed to all the cluster's pods. |

BootstrapRecovery Appears in:

BootstrapConfiguration

BootstrapRecovery contains the configuration required to restore from an existing cluster using 3 methodologies: external cluster, volume snapshots or backup objects. Full recovery and Point-In-Time Recovery are supported. The method can be also be used to create clusters in continuous recovery (replica clusters), also supporting cascading replication when instances > 1.

Once the cluster exits recovery, the password for the superuser will be changed through the provided secret. Refer to the Bootstrap page of the documentation for more information.

| Field | Description |
| ----- | ----------- |
| `backup` [Required][BackupSource](#postgresql-cnpg-io-v1-BackupSource) | The backup object containing the physical base backup from which to initiate the recovery procedure. Mutually exclusive with `source` and `volumeSnapshots`. |
| `source`string | The external cluster whose backup we will restore. This is also used as the name of the folder under which the backup is stored, so it must be set to the name of the source cluster. Mutually exclusive with `backup`. |
| `volumeSnapshots`[DataSource](#postgresql-cnpg-io-v1-DataSource) | The static PVC data source(s) from which to initiate the recovery procedure. Currently supporting `VolumeSnapshot` and `PersistentVolumeClaim` resources that map an existing PVC group, compatible with CloudNativePG, and taken with a cold backup copy on a fenced Postgres instance. |
| `recoveryTarget`[RecoveryTarget](#postgresql-cnpg-io-v1-RecoveryTarget) | By default, the recovery process applies all the available WAL files in the archive (full recovery). However, you can also end the recovery as soon as a consistent state is reached or recover to a point-in-time (PITR) by specifying a `RecoveryTarget` object. More info: https://www.postgresql.org/docs/current/runtime-config-wal.html#RUNTIME-CONFIG-WAL-RECOVERY-TARGET |
| `database`string | Name of the database used by the application. Default: `app`. |
| `owner`string | Name of the owner of the database in the instance to be used by applications. Defaults to the value of the `database` key. |
| `secret`[github.com/cloudnative-pg/machinery/pkg/api.LocalObjectReference](https://pkg.go.dev/github.com/cloudnative-pg/machinery/pkg/api/#LocalObjectReference) | Name of the secret containing the initial credentials for the owner of the user database. If empty a new secret will be created from scratch. |

CertificatesConfiguration Appears in:

CertificatesStatus

ClusterSpec

CertificatesConfiguration contains the needed configurations to handle server certificates.

| Field | Description |
| ----- | ----------- |
| `serverCASecret` [Required]string | The secret containing the Server CA certificate. If not defined, a new secret will be created with a self-signed CA and will be used to generate the TLS certificate ServerTLSSecret. Contains: `ca.crt`: CA that should be used to validate the server certificate, used as `sslrootcert` in client connection strings.`ca.key`: key used to generate Server SSL certs, if ServerTLSSecret is provided, this can be omitted. |
| `serverTLSSecret`string | The secret of type kubernetes.io/tls containing the server TLS certificate and key that will be set as `ssl_cert_file` and `ssl_key_file` so that clients can connect to postgres securely. If not defined, ServerCASecret must provide also `ca.key` and a new secret will be created using the provided CA. |
| `replicationTLSSecret`string | The secret of type kubernetes.io/tls containing the client certificate to authenticate as the `streaming_replica` user. If not defined, ClientCASecret must provide also `ca.key`, and a new secret will be created using the provided CA. |
| `clientCASecret`string | The secret containing the Client CA certificate. If not defined, a new secret will be created with a self-signed CA and will be used to generate all the client certificates. Contains: `ca.crt`: CA that should be used to validate the client certificates, used as `ssl_ca_file` of all the instances.`ca.key`: key used to generate client certificates, if ReplicationTLSSecret is provided, this can be omitted. |
| `serverAltDNSNames`[]string | The list of the server alternative DNS names to be added to the generated server TLS certificates, when required. |

## CertificatesStatus

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

CertificatesStatus contains configuration certificates and related expiration dates.

| Field | Description |
| ----- | ----------- |
| CertificatesConfiguration | (Members of CertificatesConfiguration are embedded into this type.) Needed configurations to handle server certificates, initialized with default values, if needed. |
| expirations map[string]string | Expiration dates for all certificates. |

## ClusterMonitoringTLSConfiguration

**Appears in:**

- [MonitoringConfiguration](#postgresql-cnpg-io-v1-MonitoringConfiguration)

ClusterMonitoringTLSConfiguration is the type containing the TLS configuration for the cluster's monitoring

| Field | Description |
| ----- | ----------- |
| `enabled` bool | Enable TLS for the monitoring endpoint. Changing this option will force a rollout of all instances. |



## ClusterSpec

**Appears in:**

- [Cluster](#postgresql-cnpg-io-v1-Cluster)

ClusterSpec defines the desired state of Cluster

| Field | Description |
| ----- | ----------- |

## ClusterStatus

**Appears in:**

- [Cluster](#postgresql-cnpg-io-v1-Cluster)

ClusterStatus defines the observed state of Cluster

| Field | Description |
| ----- | ----------- |

## ConfigMapResourceVersion

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

ConfigMapResourceVersion is the resource versions of the secrets managed by the operator

| Field | Description |
| ----- | ----------- |

## DataDurabilityLevel

(Alias of `string`)

**Appears in:**

- [SynchronousReplicaConfiguration](#postgresql-cnpg-io-v1-SynchronousReplicaConfiguration)

  DataDurabilityLevel specifies how strictly to enforce synchronous replication when cluster
  instances are unavailable. Options are `required` or `preferred`.

## DataSource

**Appears in:**

- [BootstrapRecovery](#postgresql-cnpg-io-v1-BootstrapRecovery)

DataSource contains the configuration required to bootstrap a PostgreSQL cluster from an existing
storage

| Field | Description |
| ----- | ----------- |

## DatabaseObjectSpec

**Appears in:**

- [ExtensionSpec](#postgresql-cnpg-io-v1-ExtensionSpec)

- [SchemaSpec](#postgresql-cnpg-io-v1-SchemaSpec)

DatabaseObjectSpec contains the fields which are common to every database object

| Field | Description |
| ----- | ----------- |

## DatabaseObjectStatus

**Appears in:**

- [DatabaseStatus](#postgresql-cnpg-io-v1-DatabaseStatus)

DatabaseObjectStatus is the status of the managed database objects

| Field | Description |
| ----- | ----------- |

## DatabaseReclaimPolicy

(Alias of `string`)

**Appears in:**

- [DatabaseSpec](#postgresql-cnpg-io-v1-DatabaseSpec)

DatabaseReclaimPolicy describes a policy for end-of-life maintenance of databases.

## DatabaseRoleRef

**Appears in:**

- [TablespaceConfiguration](#postgresql-cnpg-io-v1-TablespaceConfiguration)

DatabaseRoleRef is a reference an a role available inside PostgreSQL

| Field | Description |
| ----- | ----------- |

## DatabaseSpec

**Appears in:**

- [Database](#postgresql-cnpg-io-v1-Database)

  DatabaseSpec is the specification of a Postgresql Database, built around the `CREATE DATABASE`,
  `ALTER DATABASE`, and `DROP DATABASE` SQL commands of PostgreSQL.

| Field | Description |
| ----- | ----------- |

## DatabaseStatus

**Appears in:**

- [Database](#postgresql-cnpg-io-v1-Database)

DatabaseStatus defines the observed state of Database

| Field | Description |
| ----- | ----------- |

## EmbeddedObjectMetadata

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

EmbeddedObjectMetadata contains metadata to be inherited by all resources related to a Cluster

| Field | Description |
| ----- | ----------- |

## EnsureOption

(Alias of `string`)

**Appears in:**

- [DatabaseObjectSpec](#postgresql-cnpg-io-v1-DatabaseObjectSpec)

- [DatabaseSpec](#postgresql-cnpg-io-v1-DatabaseSpec)

- [RoleConfiguration](#postgresql-cnpg-io-v1-RoleConfiguration)

EnsureOption represents whether we should enforce the presence or absence of a Role in a PostgreSQL
instance

## EphemeralVolumesSizeLimitConfiguration

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

EphemeralVolumesSizeLimitConfiguration contains the configuration of the ephemeral storage

| Field | Description |
| ----- | ----------- |

## ExtensionSpec

**Appears in:**

- [DatabaseSpec](#postgresql-cnpg-io-v1-DatabaseSpec)

ExtensionSpec configures an extension in a database

| Field | Description |
| ----- | ----------- |

## ExternalCluster

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

  ExternalCluster represents the connection parameters to an external cluster which is used in the
  other sections of the configuration

| Field | Description |
| ----- | ----------- |

## ImageCatalogRef

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

ImageCatalogRef defines the reference to a major version in an ImageCatalog

| Field | Description |
| ----- | ----------- |

## ImageCatalogSpec

**Appears in:**

- [ClusterImageCatalog](#postgresql-cnpg-io-v1-ClusterImageCatalog)

- [ImageCatalog](#postgresql-cnpg-io-v1-ImageCatalog)

ImageCatalogSpec defines the desired ImageCatalog

| Field | Description |
| ----- | ----------- |

## ImageInfo

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

ImageInfo contains the information about a PostgreSQL image

| Field | Description |
| ----- | ----------- |

## Import

**Appears in:**

- [BootstrapInitDB](#postgresql-cnpg-io-v1-BootstrapInitDB)

Import contains the configuration to init a database from a logic snapshot of an externalCluster

| Field | Description |
| ----- | ----------- |

## ImportSource

**Appears in:**

- [Import](#postgresql-cnpg-io-v1-Import)

ImportSource describes the source for the logical snapshot

| Field | Description |
| ----- | ----------- |

## InstanceID

**Appears in:**

- [BackupStatus](#postgresql-cnpg-io-v1-BackupStatus)

InstanceID contains the information to identify an instance

| Field | Description |
| ----- | ----------- |

## InstanceReportedState

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

InstanceReportedState describes the last reported state of an instance during a reconciliation loop

| Field | Description |
| ----- | ----------- |

## LDAPBindAsAuth

**Appears in:**

- [LDAPConfig](#postgresql-cnpg-io-v1-LDAPConfig)

LDAPBindAsAuth provides the required fields to use the bind authentication for LDAP

| Field | Description |
| ----- | ----------- |

## LDAPBindSearchAuth

**Appears in:**

- [LDAPConfig](#postgresql-cnpg-io-v1-LDAPConfig)

LDAPBindSearchAuth provides the required fields to use the bind+search LDAP authentication process

| Field | Description |
| ----- | ----------- |

## LDAPConfig

**Appears in:**

- [PostgresConfiguration](#postgresql-cnpg-io-v1-PostgresConfiguration)

LDAPConfig contains the parameters needed for LDAP authentication

| Field | Description |
| ----- | ----------- |

## LDAPScheme

(Alias of `string`)

**Appears in:**

- [LDAPConfig](#postgresql-cnpg-io-v1-LDAPConfig)

LDAPScheme defines the possible schemes for LDAP

## ManagedConfiguration

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

ManagedConfiguration represents the portions of PostgreSQL that are managed by the instance manager

| Field | Description |
| ----- | ----------- |

## ManagedRoles

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

ManagedRoles tracks the status of a cluster's managed roles

| Field | Description |
| ----- | ----------- |

## ManagedService

**Appears in:**

- [ManagedServices](#postgresql-cnpg-io-v1-ManagedServices)

  ManagedService represents a specific service managed by the cluster. It includes the type of
  service and its associated template specification.

| Field | Description |
| ----- | ----------- |

## ManagedServices

**Appears in:**

- [ManagedConfiguration](#postgresql-cnpg-io-v1-ManagedConfiguration)

ManagedServices represents the services managed by the cluster.

| Field | Description |
| ----- | ----------- |

## Metadata

**Appears in:**

- [PodTemplateSpec](#postgresql-cnpg-io-v1-PodTemplateSpec)

- [ServiceAccountTemplate](#postgresql-cnpg-io-v1-ServiceAccountTemplate)

- [ServiceTemplateSpec](#postgresql-cnpg-io-v1-ServiceTemplateSpec)

  Metadata is a structure similar to the metav1.ObjectMeta, but still parseable by controller-gen to
  create a suitable CRD for the user. The comment of PodTemplateSpec has an explanation of why we
  are not using the core data types.

| Field | Description |
| ----- | ----------- |

## MonitoringConfiguration

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

MonitoringConfiguration is the type containing all the monitoring configuration for a certain
cluster

| Field | Description |
| ----- | ----------- |

## NodeMaintenanceWindow

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

NodeMaintenanceWindow contains information that the operator will use while upgrading the underlying
node. This option is only useful when the chosen storage prevents the Pods from being freely moved
across nodes.

| Field | Description |
| ----- | ----------- |

## OnlineConfiguration

**Appears in:**

- [BackupSpec](#postgresql-cnpg-io-v1-BackupSpec)

- [ScheduledBackupSpec](#postgresql-cnpg-io-v1-ScheduledBackupSpec)

- [VolumeSnapshotConfiguration](#postgresql-cnpg-io-v1-VolumeSnapshotConfiguration)

OnlineConfiguration contains the configuration parameters for the online volume snapshot

| Field | Description |
| ----- | ----------- |

## PasswordState

**Appears in:**

- [ManagedRoles](#postgresql-cnpg-io-v1-ManagedRoles)

PasswordState represents the state of the password of a managed RoleConfiguration

| Field | Description |
| ----- | ----------- |

## PgBouncerIntegrationStatus

**Appears in:**

- [PoolerIntegrations](#postgresql-cnpg-io-v1-PoolerIntegrations)

PgBouncerIntegrationStatus encapsulates the needed integration for the pgbouncer poolers referencing
the cluster

| Field | Description |
| ----- | ----------- |

## PgBouncerPoolMode

(Alias of `string`)

**Appears in:**

- [PgBouncerSpec](#postgresql-cnpg-io-v1-PgBouncerSpec)

PgBouncerPoolMode is the mode of PgBouncer

## PgBouncerSecrets

**Appears in:**

- [PoolerSecrets](#postgresql-cnpg-io-v1-PoolerSecrets)

PgBouncerSecrets contains the versions of the secrets used by pgbouncer

| Field | Description |
| ----- | ----------- |

## PgBouncerSpec

**Appears in:**

- [PoolerSpec](#postgresql-cnpg-io-v1-PoolerSpec)

PgBouncerSpec defines how to configure PgBouncer

| Field | Description |
| ----- | ----------- |

## PluginConfiguration

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

- [ExternalCluster](#postgresql-cnpg-io-v1-ExternalCluster)

PluginConfiguration specifies a plugin that need to be loaded for this cluster to be reconciled

| Field | Description |
| ----- | ----------- |

## PluginStatus

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

PluginStatus is the status of a loaded plugin

| Field | Description |
| ----- | ----------- |

## PodTemplateSpec

**Appears in:**

- [PoolerSpec](#postgresql-cnpg-io-v1-PoolerSpec)

PodTemplateSpec is a structure allowing the user to set a template for Pod generation.

Unfortunately we can't use the corev1.PodTemplateSpec type because the generated CRD won't have the
field for the metadata section.

References: https://github.com/kubernetes-sigs/controller-tools/issues/385
https://github.com/kubernetes-sigs/controller-tools/issues/448
https://github.com/prometheus-operator/prometheus-operator/issues/3041

| Field | Description |
| ----- | ----------- |

## PodTopologyLabels

(Alias of `map[string]string`)

**Appears in:**

- [Topology](#postgresql-cnpg-io-v1-Topology)

PodTopologyLabels represent the topology of a Pod. map[labelName]labelValue

## PoolerIntegrations

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

PoolerIntegrations encapsulates the needed integration for the poolers referencing the cluster

| Field | Description |
| ----- | ----------- |

## PoolerMonitoringConfiguration

**Appears in:**

- [PoolerSpec](#postgresql-cnpg-io-v1-PoolerSpec)

PoolerMonitoringConfiguration is the type containing all the monitoring configuration for a certain
Pooler. Mirrors the Cluster's MonitoringConfiguration but without the custom queries part for now.

| Field | Description |
| ----- | ----------- |

## PoolerSecrets

**Appears in:**

- [PoolerStatus](#postgresql-cnpg-io-v1-PoolerStatus)

PoolerSecrets contains the versions of all the secrets used

| Field | Description |
| ----- | ----------- |

## PoolerSpec

**Appears in:**

- [Pooler](#postgresql-cnpg-io-v1-Pooler)

PoolerSpec defines the desired state of Pooler

| Field | Description |
| ----- | ----------- |

## PoolerStatus

**Appears in:**

- [Pooler](#postgresql-cnpg-io-v1-Pooler)

PoolerStatus defines the observed state of Pooler

| Field | Description |
| ----- | ----------- |

## PoolerType

(Alias of `string`)

**Appears in:**

- [PoolerSpec](#postgresql-cnpg-io-v1-PoolerSpec)

  PoolerType is the type of the connection pool, meaning the service we are targeting. Allowed
  values are `rw` and `ro`.

## PostgresConfiguration

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

PostgresConfiguration defines the PostgreSQL configuration

| Field | Description |
| ----- | ----------- |

## PrimaryUpdateMethod

(Alias of `string`)

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

  PrimaryUpdateMethod contains the method to use when upgrading the primary server of the cluster as
  part of rolling updates

## PrimaryUpdateStrategy

(Alias of `string`)

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

  PrimaryUpdateStrategy contains the strategy to follow when upgrading the primary server of the
  cluster as part of rolling updates

## Probe

**Appears in:**

- [ProbeWithStrategy](#postgresql-cnpg-io-v1-ProbeWithStrategy)

- [ProbesConfiguration](#postgresql-cnpg-io-v1-ProbesConfiguration)

  Probe describes a health check to be performed against a container to determine whether it is
  alive or ready to receive traffic.

| Field | Description |
| ----- | ----------- |

## ProbeStrategyType

(Alias of `string`)

**Appears in:**

- [ProbeWithStrategy](#postgresql-cnpg-io-v1-ProbeWithStrategy)

ProbeStrategyType is the type of the strategy used to declare a PostgreSQL instance ready

## ProbeWithStrategy

**Appears in:**

- [ProbesConfiguration](#postgresql-cnpg-io-v1-ProbesConfiguration)

ProbeWithStrategy is the configuration of the startup probe

| Field | Description |
| ----- | ----------- |

## ProbesConfiguration

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

ProbesConfiguration represent the configuration for the probes to be injected in the PostgreSQL Pods

| Field | Description |
| ----- | ----------- |

## PublicationReclaimPolicy

(Alias of `string`)

**Appears in:**

- [PublicationSpec](#postgresql-cnpg-io-v1-PublicationSpec)

PublicationReclaimPolicy defines a policy for end-of-life maintenance of Publications.

## PublicationSpec

**Appears in:**

- [Publication](#postgresql-cnpg-io-v1-Publication)

PublicationSpec defines the desired state of Publication

| Field | Description |
| ----- | ----------- |

## PublicationStatus

**Appears in:**

- [Publication](#postgresql-cnpg-io-v1-Publication)

PublicationStatus defines the observed state of Publication

| Field | Description |
| ----- | ----------- |

## PublicationTarget

**Appears in:**

- [PublicationSpec](#postgresql-cnpg-io-v1-PublicationSpec)

PublicationTarget is what this publication should publish

| Field | Description |
| ----- | ----------- |

## PublicationTargetObject

**Appears in:**

- [PublicationTarget](#postgresql-cnpg-io-v1-PublicationTarget)

PublicationTargetObject is an object to publish

| Field | Description |
| ----- | ----------- |

## PublicationTargetTable

**Appears in:**

- [PublicationTargetObject](#postgresql-cnpg-io-v1-PublicationTargetObject)

PublicationTargetTable is a table to publish

| Field | Description |
| ----- | ----------- |

## RecoveryTarget

**Appears in:**

- [BootstrapRecovery](#postgresql-cnpg-io-v1-BootstrapRecovery)

  RecoveryTarget allows to configure the moment where the recovery process will stop. All the target
  options except TargetTLI are mutually exclusive.

| Field | Description |
| ----- | ----------- |

## ReplicaClusterConfiguration

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

ReplicaClusterConfiguration encapsulates the configuration of a replica cluster

| Field | Description |
| ----- | ----------- |

## ReplicationSlotsConfiguration

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

ReplicationSlotsConfiguration encapsulates the configuration of replication slots

| Field | Description |
| ----- | ----------- |

## ReplicationSlotsHAConfiguration

**Appears in:**

- [ReplicationSlotsConfiguration](#postgresql-cnpg-io-v1-ReplicationSlotsConfiguration)

  ReplicationSlotsHAConfiguration encapsulates the configuration of the replication slots that are
  automatically managed by the operator to control the streaming replication connections with the
  standby instances for high availability (HA) purposes. Replication slots are a PostgreSQL feature
  that makes sure that PostgreSQL automatically keeps WAL files in the primary when a streaming
  client (in this specific case a replica that is part of the HA cluster) gets disconnected.

| Field | Description |
| ----- | ----------- |

## RoleConfiguration

**Appears in:**

- [ManagedConfiguration](#postgresql-cnpg-io-v1-ManagedConfiguration)

  RoleConfiguration is the representation, in Kubernetes, of a PostgreSQL role with the additional
  field Ensure specifying whether to ensure the presence or absence of the role in the database

  The defaults of the CREATE ROLE command are applied Reference:
  https://www.postgresql.org/docs/current/sql-createrole.html

| Field | Description |
| ----- | ----------- |

## SQLRefs

**Appears in:**

- [BootstrapInitDB](#postgresql-cnpg-io-v1-BootstrapInitDB)

  SQLRefs holds references to ConfigMaps or Secrets containing SQL files. The references are
  processed in a specific order: first, all Secrets are processed, followed by all ConfigMaps.
  Within each group, the processing order follows the sequence specified in their respective arrays.

| Field | Description |
| ----- | ----------- |

## ScheduledBackupSpec

**Appears in:**

- [ScheduledBackup](#postgresql-cnpg-io-v1-ScheduledBackup)

ScheduledBackupSpec defines the desired state of ScheduledBackup

| Field | Description |
| ----- | ----------- |

## ScheduledBackupStatus

**Appears in:**

- [ScheduledBackup](#postgresql-cnpg-io-v1-ScheduledBackup)

ScheduledBackupStatus defines the observed state of ScheduledBackup

| Field | Description |
| ----- | ----------- |

## SchemaSpec

**Appears in:**

- [DatabaseSpec](#postgresql-cnpg-io-v1-DatabaseSpec)

SchemaSpec configures a schema in a database

| Field | Description |
| ----- | ----------- |

## SecretVersion

**Appears in:**

- [PgBouncerSecrets](#postgresql-cnpg-io-v1-PgBouncerSecrets)

- [PoolerSecrets](#postgresql-cnpg-io-v1-PoolerSecrets)

SecretVersion contains a secret name and its ResourceVersion

| Field | Description |
| ----- | ----------- |

## SecretsResourceVersion

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

SecretsResourceVersion is the resource versions of the secrets managed by the operator

| Field | Description |
| ----- | ----------- |

## ServiceAccountTemplate

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

ServiceAccountTemplate contains the template needed to generate the service accounts

| Field | Description |
| ----- | ----------- |

## ServiceSelectorType

(Alias of `string`)

**Appears in:**

- [ManagedService](#postgresql-cnpg-io-v1-ManagedService)

- [ManagedServices](#postgresql-cnpg-io-v1-ManagedServices)

  ServiceSelectorType describes a valid value for generating the service selectors. It indicates
  which type of service the selector applies to, such as read-write, read, or read-only

## ServiceTemplateSpec

**Appears in:**

- [ManagedService](#postgresql-cnpg-io-v1-ManagedService)

- [PoolerSpec](#postgresql-cnpg-io-v1-PoolerSpec)

ServiceTemplateSpec is a structure allowing the user to set a template for Service generation.

| Field | Description |
| ----- | ----------- |

## ServiceUpdateStrategy

(Alias of `string`)

**Appears in:**

- [ManagedService](#postgresql-cnpg-io-v1-ManagedService)

ServiceUpdateStrategy describes how the changes to the managed service should be handled

## SnapshotOwnerReference

(Alias of `string`)

**Appears in:**

- [VolumeSnapshotConfiguration](#postgresql-cnpg-io-v1-VolumeSnapshotConfiguration)

  SnapshotOwnerReference defines the reference type for the owner of the snapshot. This specifies
  which owner the processed resources should relate to.

## SnapshotType

(Alias of `string`)

**Appears in:**

- [Import](#postgresql-cnpg-io-v1-Import)

SnapshotType is a type of allowed import

## StorageConfiguration

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

- [TablespaceConfiguration](#postgresql-cnpg-io-v1-TablespaceConfiguration)

  StorageConfiguration is the configuration used to create and reconcile PVCs, usable for WAL
  volumes, PGDATA volumes, or tablespaces

| Field | Description |
| ----- | ----------- |

## SubscriptionReclaimPolicy

(Alias of `string`)

**Appears in:**

- [SubscriptionSpec](#postgresql-cnpg-io-v1-SubscriptionSpec)

SubscriptionReclaimPolicy describes a policy for end-of-life maintenance of Subscriptions.

## SubscriptionSpec

**Appears in:**

- [Subscription](#postgresql-cnpg-io-v1-Subscription)

SubscriptionSpec defines the desired state of Subscription

| Field | Description |
| ----- | ----------- |

## SubscriptionStatus

**Appears in:**

- [Subscription](#postgresql-cnpg-io-v1-Subscription)

SubscriptionStatus defines the observed state of Subscription

| Field | Description |
| ----- | ----------- |

## SwitchReplicaClusterStatus

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

SwitchReplicaClusterStatus contains all the statuses regarding the switch of a cluster to a replica
cluster

| Field | Description |
| ----- | ----------- |

## SyncReplicaElectionConstraints

**Appears in:**

- [PostgresConfiguration](#postgresql-cnpg-io-v1-PostgresConfiguration)

SyncReplicaElectionConstraints contains the constraints for sync replicas election.

For anti-affinity parameters two instances are considered in the same location if all the labels
values match. In future synchronous replica election restriction by name will be supported.

| Field | Description |
| ----- | ----------- |

## SynchronizeReplicasConfiguration

**Appears in:**

- [ReplicationSlotsConfiguration](#postgresql-cnpg-io-v1-ReplicationSlotsConfiguration)

  SynchronizeReplicasConfiguration contains the configuration for the synchronization of user
  defined physical replication slots

| Field | Description |
| ----- | ----------- |

## SynchronousReplicaConfiguration

**Appears in:**

- [PostgresConfiguration](#postgresql-cnpg-io-v1-PostgresConfiguration)

  SynchronousReplicaConfiguration contains the configuration of the PostgreSQL synchronous
  replication feature. Important: at this moment, also `.spec.minSyncReplicas` and
  `.spec.maxSyncReplicas` need to be considered.

| Field | Description |
| ----- | ----------- |

## SynchronousReplicaConfigurationMethod

(Alias of `string`)

**Appears in:**

- [SynchronousReplicaConfiguration](#postgresql-cnpg-io-v1-SynchronousReplicaConfiguration)

SynchronousReplicaConfigurationMethod configures whether to use quorum based replication or a
priority list

## TablespaceConfiguration

**Appears in:**

- [ClusterSpec](#postgresql-cnpg-io-v1-ClusterSpec)

  TablespaceConfiguration is the configuration of a tablespace, and includes the storage
  specification for the tablespace

| Field | Description |
| ----- | ----------- |

## TablespaceState

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

TablespaceState represents the state of a tablespace in a cluster

| Field | Description |
| ----- | ----------- |

## TablespaceStatus

(Alias of `string`)

**Appears in:**

- [TablespaceState](#postgresql-cnpg-io-v1-TablespaceState)

TablespaceStatus represents the status of a tablespace in the cluster

## Topology

**Appears in:**

- [ClusterStatus](#postgresql-cnpg-io-v1-ClusterStatus)

Topology contains the cluster topology

| Field | Description |
| ----- | ----------- |

## VolumeSnapshotConfiguration

**Appears in:**

- [BackupConfiguration](#postgresql-cnpg-io-v1-BackupConfiguration)

VolumeSnapshotConfiguration represents the configuration for the execution of snapshot backups.

| Field | Description |
| ----- | ----------- |
